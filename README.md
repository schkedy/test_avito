# PR Reviewer Assignment Service

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è —Ä–µ–≤—å—é–µ—Ä–æ–≤ –Ω–∞ Pull Request'—ã —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –∫–æ–º–∞–Ω–¥–∞–º–∏ –∏ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —á–∏—Å—Ç–æ–π —Å–ª–æ–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:

```
API Layer (handlers) ‚Üí Service Layer ‚Üí Repository Layer ‚Üí Database Layer
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
test_avito/
‚îú‚îÄ‚îÄ cmd/
‚îÇ   ‚îî‚îÄ‚îÄ server/          # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ       ‚îî‚îÄ‚îÄ main.go
‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îú‚îÄ‚îÄ api/             # API —Å–ª–æ–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ handlers/    # HTTP –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ middleware/  # Middleware (logging, recovery, request_id)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ generated.go # –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ –∏–∑ OpenAPI
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ router.go    # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–æ—É—Ç–µ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ service/         # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ team_service.go
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user_service.go
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pull_request_service.go
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ stats_service.go
‚îÇ   ‚îú‚îÄ‚îÄ repository/      # –°–ª–æ–π –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ repository.go
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ team_repository.go
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user_repository.go
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pull_request_repository.go
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ stats_repository.go
‚îÇ   ‚îú‚îÄ‚îÄ domain/          # –î–æ–º–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –∏ –æ—à–∏–±–∫–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ team.go
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.go
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pull_request.go
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ errors.go
‚îÇ   ‚îî‚îÄ‚îÄ database/        # –°–ª–æ–π –ë–î
‚îÇ       ‚îú‚îÄ‚îÄ postgres.go  # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
‚îÇ       ‚îú‚îÄ‚îÄ queries/     # SQL –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è sqlc
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ teams.sql
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ users.sql
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ pull_requests.sql
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ stats.sql
‚îÇ       ‚îî‚îÄ‚îÄ db/          # –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π sqlc –∫–æ–¥ (–ù–ï –†–ï–î–ê–ö–¢–ò–†–û–í–ê–¢–¨)
‚îÇ           ‚îú‚îÄ‚îÄ db.go
‚îÇ           ‚îú‚îÄ‚îÄ models.go
‚îÇ           ‚îú‚îÄ‚îÄ querier.go
‚îÇ           ‚îú‚îÄ‚îÄ teams.sql.go
‚îÇ           ‚îú‚îÄ‚îÄ users.sql.go
‚îÇ           ‚îú‚îÄ‚îÄ pull_requests.sql.go
‚îÇ           ‚îî‚îÄ‚îÄ stats.sql.go
‚îú‚îÄ‚îÄ pkg/                 # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–∞–∫–µ—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ config/          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Viper
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ config.go
‚îÇ   ‚îî‚îÄ‚îÄ logger/          # –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ slog
‚îÇ       ‚îî‚îÄ‚îÄ logger.go
‚îú‚îÄ‚îÄ migrations/          # –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ 000001_init_schema.up.sql
‚îÇ   ‚îî‚îÄ‚îÄ 000001_init_schema.down.sql
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ integration/     # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ e2e/            # E2E —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ openapi/
‚îÇ   ‚îî‚îÄ‚îÄ openapi.yml     # OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è (–ù–ï –ò–ó–ú–ï–ù–Ø–¢–¨)
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ Makefile
‚îú‚îÄ‚îÄ config.yaml
‚îî‚îÄ‚îÄ .golangci.yml
```

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Go 1.23**: –û—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- **Gin**: Web framework –¥–ª—è HTTP API
- **PostgreSQL**: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **pgx/v5**: PostgreSQL –¥—Ä–∞–π–≤–µ—Ä —Å connection pool
- **sqlc**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –∫–æ–¥–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î –∏–∑ SQL
- **Viper**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
- **slog**: –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- **oapi-codegen**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞ –∏–∑ OpenAPI
- **golang-migrate**: –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
- **testify**: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Docker & Docker Compose**: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è

## Best Practices

### 1. –°–ª–æ–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏**: –∫–∞–∂–¥—ã–π —Å–ª–æ–π –∏–º–µ–µ—Ç —á–µ—Ç–∫—É—é –∑–æ–Ω—É –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã**: —Å–ª–æ–∏ –æ–±—â–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
- **–ù–∏–∫–∞–∫–∏—Ö —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**: –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–¥—É—Ç —Ç–æ–ª—å–∫–æ –≤–Ω–∏–∑

### 2. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–°–∫–≤–æ–∑–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π request_id
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏**: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ slog –¥–ª—è JSON –ª–æ–≥–æ–≤
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö**: –æ—Ç middleware –¥–æ repository

### 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- **–î–æ–º–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏**: –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ `domain/errors.go`
- **–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫**: –æ—à–∏–±–∫–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç—Å—è –≤ API –æ—à–∏–±–∫–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ handlers
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫**: –≤—Å–µ –æ—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º

### 4. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- **Viper**: –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ YAML –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
- **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**: –ø—Ä–µ—Ñ–∏–∫—Å `APP_` –¥–ª—è –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

### 5. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **sqlc**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ Go –∫–æ–¥–∞ –∏–∑ SQL –∑–∞–ø—Ä–æ—Å–æ–≤
- **Connection pool**: pgx pool —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã**: –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–∏–Ω–∏–º–∞—é—Ç context.Context
- **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏**: –≥–¥–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–æ–∑–¥–∞–Ω–∏–µ PR —Å —Ä–µ–≤—å—é–µ—Ä–∞–º–∏)
- **SQL-first –ø–æ–¥—Ö–æ–¥**: SQL –∑–∞–ø—Ä–æ—Å—ã –≤ `internal/database/queries/`, Go –∫–æ–¥ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### 6. API
- **OpenAPI-first**: API –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∏–∑ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**: –Ω–∞ —É—Ä–æ–≤–Ω–µ handlers
- **Consistent error responses**: –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—à–∏–±–æ–∫

## –ó–∞–ø—É—Å–∫

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å Docker Compose

```bash
docker-compose up
```

–°–µ—Ä–≤–∏—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞:
- **API**: `http://localhost:8080`
- **PostgreSQL**: `localhost:5434` (–≤–Ω–µ—à–Ω–∏–π –ø–æ—Ä—Ç, –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ 5432)

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ü–æ—Ä—Ç PostgreSQL –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ 5434, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ —Å –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞–º–∏ PostgreSQL –Ω–∞ –ø–æ—Ä—Ç–∞—Ö 5432/5433.

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
```bash
make deps
```

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**
```bash
cp .env.example .env
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env` –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
```bash
POSTGRES_HOST=localhost
POSTGRES_EXTERNAL_PORT=5434
```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ PostgreSQL —á–µ—Ä–µ–∑ Docker Compose:**
```bash
docker-compose up postgres -d
```

–ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
```bash
docker run -d \
  --name postgres_dev \
  -e POSTGRES_USER=postgres \
  -e POSTGRES_PASSWORD=postgres \
  -e POSTGRES_DB=pr_reviewer \
  -p 5434:5432 \
  postgres:16-alpine
```

4. **–ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏:**
```bash
make migrate
```

5. **–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –∫–æ–¥ (OpenAPI –∏ sqlc):**
```bash
make generate
```

6. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å:**
```bash
make run
```

## –ö–æ–º–∞–Ω–¥—ã Makefile

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- `make build` - –°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `make run` - –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ
- `make test` - –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
- `make lint` - –ó–∞–ø—É—Å–∫ –ª–∏–Ω—Ç–µ—Ä–∞
- `make fmt` - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
- `make clean` - –û—á–∏—Å—Ç–∫–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ —Å–±–æ—Ä–∫–∏

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞
- `make generate` - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞ –∏–∑ OpenAPI –∏ sqlc
- `make sqlc` - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞ –¥–ª—è –ë–î –∏–∑ SQL —á–µ—Ä–µ–∑ sqlc

### –ú–∏–≥—Ä–∞—Ü–∏–∏
- `make migrate` - –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π (localhost:5434)
- `make migrate-docker` - –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π (localhost:5432)

### Docker
- `make docker-up` - –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏)
- `make docker-build-no-cache` - –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–∞ –±–µ–∑ –∫—ç—à–∞
- `make docker-up-clean` - –ó–∞–ø—É—Å–∫ —Å —á–∏—Å—Ç–æ–π —Å–±–æ—Ä–∫–æ–π (–±–µ–∑ –∫—ç—à–∞)
- `make docker-down` - –û—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker Compose (—É–¥–∞–ª—è–µ—Ç volumes)

## API Endpoints

### Health Check
- `GET /health` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–∞

### Statistics
- `GET /stats` - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

### Teams
- `POST /team/add` - –°–æ–∑–¥–∞–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã —Å —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏
- `GET /team/get?team_name={name}` - –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã
- `POST /team/deactivate` - –ú–∞—Å—Å–æ–≤–∞—è –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∫–æ–º–∞–Ω–¥—ã

### Users
- `POST /users/setIsActive` - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /users/getReview?user_id={id}` - –ü–æ–ª—É—á–µ–Ω–∏–µ PR'–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫–∞–∫ —Ä–µ–≤—å—é–µ—Ä–∞

### Pull Requests
- `POST /pullRequest/create` - –°–æ–∑–¥–∞–Ω–∏–µ PR —Å –∞–≤—Ç–æ–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ–º —Ä–µ–≤—å—é–µ—Ä–æ–≤
- `POST /pullRequest/merge` - –°–ª–∏—è–Ω–∏–µ PR (–∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ)
- `POST /pullRequest/reassign` - –ü–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–µ–≤—å—é–µ—Ä–∞

## –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

### –°–æ–∑–¥–∞–Ω–∏–µ PR
1. –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ PR –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–∑–Ω–∞—á–∞—é—Ç—Å—è **–¥–æ 2** –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ä–µ–≤—å—é–µ—Ä–æ–≤
2. –†–µ–≤—å—é–µ—Ä—ã –≤—ã–±–∏—Ä–∞—é—Ç—Å—è –∏–∑ **–∫–æ–º–∞–Ω–¥—ã –∞–≤—Ç–æ—Ä–∞**
3. –ê–≤—Ç–æ—Ä **–∏—Å–∫–ª—é—á–∞–µ—Ç—Å—è** –∏–∑ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤
4. –ï—Å–ª–∏ –∞–∫—Ç–∏–≤–Ω—ã—Ö —á–ª–µ–Ω–æ–≤ –∫–æ–º–∞–Ω–¥—ã –º–µ–Ω—å—à–µ 2, –Ω–∞–∑–Ω–∞—á–∞–µ—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ (0/1)
5. –í—ã–±–æ—Ä —Ä–µ–≤—å—é–µ—Ä–æ–≤ —Å–ª—É—á–∞–π–Ω—ã–π (Fisher-Yates shuffle)

### –ü–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–µ–≤—å—é–µ—Ä–∞
1. –ó–∞–º–µ–Ω—è–µ—Ç—Å—è –æ–¥–∏–Ω –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ä–µ–≤—å—é–µ—Ä
2. –ù–æ–≤—ã–π —Ä–µ–≤—å—é–µ—Ä –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –∏–∑ **–∫–æ–º–∞–Ω–¥—ã –∑–∞–º–µ–Ω—è–µ–º–æ–≥–æ** —Ä–µ–≤—å—é–µ—Ä–∞
3. –ò—Å–∫–ª—é—á–∞—é—Ç—Å—è: –∞–≤—Ç–æ—Ä PR, —Ç–µ–∫—É—â–∏–µ —Ä–µ–≤—å—é–µ—Ä—ã, –∑–∞–º–µ–Ω—è–µ–º—ã–π —Ä–µ–≤—å—é–µ—Ä
4. –ù–æ–≤—ã–π —Ä–µ–≤—å—é–µ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **–∞–∫—Ç–∏–≤–Ω—ã–º**
5. –ü–æ—Å–ª–µ merge PR –ø–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ **–∑–∞–ø—Ä–µ—â–µ–Ω–æ**

### Merge PR
- –û–ø–µ—Ä–∞—Ü–∏—è **–∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–∞—è** - –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –≤—ã–∑–æ–≤ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `status = MERGED` –∏ `merged_at = —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è`
- –ü–æ—Å–ª–µ merge –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–µ–≤—å—é–µ—Ä–æ–≤ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–í—Å—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞.

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
```bash
cp .env.example .env
```

2. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env` –ø–æ–¥ –≤–∞—à–∏ –Ω—É–∂–¥—ã (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
docker-compose up
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ .env

```bash
# Docker Compose ports
POSTGRES_EXTERNAL_PORT=5434
APP_EXTERNAL_PORT=8080
APP_PORT=8080

# PostgreSQL Configuration
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_password
POSTGRES_DB=pr_reviewer
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_SSLMODE=disable

# Server Configuration
SERVER_PORT=8080
SERVER_HOST=0.0.0.0
SERVER_READ_TIMEOUT=10s
SERVER_WRITE_TIMEOUT=10s
SERVER_SHUTDOWN_TIMEOUT=5s

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
```

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ—Ç **–≤—ã—Å—à–µ–≥–æ –∫ –Ω–∏–∑—à–µ–º—É**:

1. **üî¥ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `APP_`** (–Ω–∞–∏–≤—ã—Å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
   ```bash
   APP_DATABASE_HOST=custom_host
   APP_LOG_LEVEL=debug
   ```
   
2. **üü° –§–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ** (—Å—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
   ```bash
   POSTGRES_HOST=postgres
   LOG_LEVEL=info
   SERVER_PORT=8080
   ```
   
3. **üü¢ –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é** (–Ω–∏–∑—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
   - –ó–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω—ã –≤ `pkg/config/config.go`

### –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
# –í—Ä–µ–º–µ–Ω–Ω–æ–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
POSTGRES_HOST=localhost docker-compose up

# –ò–ª–∏ —á–µ—Ä–µ–∑ APP_ –ø—Ä–µ—Ñ–∏–∫—Å
APP_LOG_LEVEL=debug ./bin/server
```

**–í–∞–∂–Ω–æ:** –§–∞–π–ª `.env` —Å–æ–¥–µ—Ä–∂–∏—Ç —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `.gitignore`!

## –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ sqlc

### –ß—Ç–æ —Ç–∞–∫–æ–µ sqlc?

sqlc –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π Go –∫–æ–¥ –∏–∑ SQL –∑–∞–ø—Ä–æ—Å–æ–≤. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- –ü–∏—Å–∞—Ç—å —á–∏—Å—Ç—ã–π SQL –±–µ–∑ ORM –º–∞–≥–∏–∏
- –ü–æ–ª—É—á–∞—Ç—å —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ Go
- –õ–æ–≤–∏—Ç—å SQL –æ—à–∏–±–∫–∏ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
- –ò–∑–±–µ–≥–∞—Ç—å —Ä–∞–Ω—Ç–∞–π–º –æ—à–∏–±–æ–∫ –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
internal/database/
‚îú‚îÄ‚îÄ queries/          # SQL –∑–∞–ø—Ä–æ—Å—ã (—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º –∑–¥–µ—Å—å)
‚îÇ   ‚îú‚îÄ‚îÄ teams.sql
‚îÇ   ‚îú‚îÄ‚îÄ users.sql
‚îÇ   ‚îú‚îÄ‚îÄ pull_requests.sql
‚îÇ   ‚îî‚îÄ‚îÄ stats.sql
‚îî‚îÄ‚îÄ db/              # –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ (–ù–ï —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å!)
    ‚îú‚îÄ‚îÄ db.go        # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –±–∞–∑–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã
    ‚îú‚îÄ‚îÄ models.go    # –°—Ç—Ä—É–∫—Ç—É—Ä—ã –º–æ–¥–µ–ª–µ–π
    ‚îî‚îÄ‚îÄ *.sql.go     # –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
```

### –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å?

1. –û—Ç–∫—Ä–æ–π—Ç–µ –Ω—É–∂–Ω—ã–π —Ñ–∞–π–ª –≤ `internal/database/queries/`
2. –î–æ–±–∞–≤—å—Ç–µ SQL –∑–∞–ø—Ä–æ—Å —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π:

```sql
-- name: GetUserByEmail :one
SELECT id, name, email, team_id, is_active
FROM users
WHERE email = $1;
```

3. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –∫–æ–¥:
```bash
make sqlc
# –∏–ª–∏
sqlc generate
```

4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ repository:
```go
user, err := r.queries.GetUserByEmail(ctx, email)
```

### –¢–∏–ø—ã –∑–∞–ø—Ä–æ—Å–æ–≤

- `:one` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É
- `:many` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫
- `:exec` - –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–ø—Ä–æ—Å –±–µ–∑ –≤–æ–∑–≤—Ä–∞—Ç–∞ –¥–∞–Ω–Ω—ã—Ö
- `:execrows` - –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã—Ö —Å—Ç—Ä–æ–∫

### –†–∞–±–æ—Ç–∞ —Å pgx/v5

sqlc –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ pgx/v5 (`sqlc.yaml`):
```yaml
sql_package: "pgx/v5"
```

–≠—Ç–æ –¥–∞–µ—Ç:
- –ù–∞—Ç–∏–≤–Ω—ã–µ —Ç–∏–ø—ã pgx (pgtype.Timestamptz, pgtype.UUID –∏ –¥—Ä.)
- –ü–æ–¥–¥–µ—Ä–∂–∫—É —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —á–µ—Ä–µ–∑ `WithTx()`
- –í—ã—Å–æ–∫—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å connection pool

### –ü—Ä–∏–º–µ—Ä—ã

**–ü—Ä–æ—Å—Ç–æ–π –∑–∞–ø—Ä–æ—Å:**
```sql
-- name: GetTeamByName :one
SELECT * FROM teams WHERE name = $1;
```

**–ó–∞–ø—Ä–æ—Å —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:**
```sql
-- name: CreateUser :one
INSERT INTO users (id, name, email, team_id)
VALUES ($1, $2, $3, $4)
RETURNING *;
```

**–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –≤ –∫–æ–¥–µ:**
```go
tx, _ := pool.Begin(ctx)
defer tx.Rollback(ctx)
qtx := queries.WithTx(tx)
qtx.CreatePullRequest(ctx, params)
qtx.AddReviewer(ctx, reviewerParams)
tx.Commit(ctx)
```

## –î–æ–ø—É—â–µ–Ω–∏—è –∏ —Ä–µ—à–µ–Ω–∏—è

### 1. –°–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä —Ä–µ–≤—å—é–µ—Ä–æ–≤
**–í–æ–ø—Ä–æ—Å**: –ö–∞–∫ –≤—ã–±–∏—Ä–∞—Ç—å —Ä–µ–≤—å—é–µ—Ä–æ–≤ –∏–∑ –∫–æ–º–∞–Ω–¥—ã?  
**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–ª–≥–æ—Ä–∏—Ç–º Fisher-Yates –¥–ª—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏–π —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ.

### 2. –ü–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –∫–æ–º–∞–Ω–¥—ã —Ä–µ–≤—å—é–µ—Ä–∞
**–í–æ–ø—Ä–æ—Å**: –ò–∑ –∫–∞–∫–æ–π –∫–æ–º–∞–Ω–¥—ã –±—Ä–∞—Ç—å –Ω–æ–≤–æ–≥–æ —Ä–µ–≤—å—é–µ—Ä–∞ –ø—Ä–∏ –ø–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–∏?  
**–†–µ—à–µ–Ω–∏–µ**: –°–æ–≥–ª–∞—Å–Ω–æ –¢–ó - –∏–∑ –∫–æ–º–∞–Ω–¥—ã **–∑–∞–º–µ–Ω—è–µ–º–æ–≥–æ** —Ä–µ–≤—å—é–µ—Ä–∞, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫—Ä–æ—Å—Å-–∫–æ–º–∞–Ω–¥–Ω–æ–µ —Ä–µ–≤—å—é.

### 3. –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å merge
**–í–æ–ø—Ä–æ—Å**: –ß—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º merge?  
**–†–µ—à–µ–Ω–∏–µ**: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ PR –±–µ–∑ –æ—à–∏–±–∫–∏, —Å–æ–≥–ª–∞—Å–Ω–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏.

### 4. –°–æ–∑–¥–∞–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã
**–í–æ–ø—Ä–æ—Å**: –ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç?  
**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è upsert –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π - —Å–æ–∑–¥–∞—é—Ç—Å—è –Ω–æ–≤—ã–µ –∏–ª–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ.

### 5. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–≥–æ–≤
**–í–æ–ø—Ä–æ—Å**: –ö–∞–∫–æ–π —Ñ–æ—Ä–º–∞—Ç –ª–æ–≥–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?  
**–†–µ—à–µ–Ω–∏–µ**: JSON –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ (–ª–µ–≥–∫–æ –ø–∞—Ä—Å–∏—Ç—Å—è), text –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–ª–µ–≥–∫–æ —á–∏—Ç–∞–µ—Ç—Å—è).

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è

### ‚úÖ –≠–Ω–¥–ø–æ–∏–Ω—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω `GET /stats` —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π:
- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ PR (–æ—Ç–∫—Ä—ã—Ç—ã—Ö/–∑–∞–∫—Ä—ã—Ç—ã—Ö)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–∞–Ω–¥
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–≤—Å–µ–≥–æ/–∞–∫—Ç–∏–≤–Ω—ã—Ö)

### ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ/E2E —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤ —Å–æ–∑–¥–∞–Ω–∞ –≤ `tests/integration` –∏ `tests/e2e`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è testify –¥–ª—è assertion
- –®–∞–±–ª–æ–Ω—ã —Ç–µ—Å—Ç–æ–≤ –≥–æ—Ç–æ–≤—ã –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

### ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ª–∏–Ω—Ç–µ—Ä–∞
- –ù–∞—Å—Ç—Ä–æ–µ–Ω golangci-lint —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –ª–∏–Ω—Ç–µ—Ä–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∏: errcheck, gosimple, govet, gosec –∏ –¥—Ä.
- –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è generated –∫–æ–¥–∞

### ‚úÖ –ú–∞—Å—Å–æ–≤–∞—è –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥—ã
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω —ç–Ω–¥–ø–æ–∏–Ω—Ç `POST /team/deactivate`:
- –ú–∞—Å—Å–æ–≤–æ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∫–æ–º–∞–Ω–¥—ã
- –ê—Ç–æ–º–∞—Ä–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è (—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î)
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```bash
curl -X POST http://localhost:8080/team/deactivate \
  -H "Content-Type: application/json" \
  -d '{"team_name": "backend"}'
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "team": {
    "team_name": "backend",
    "members": [...]
  },
  "deactivated_count": 5
}
```

### üîÑ –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
–ú–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å –ø–æ–º–æ—â—å—é:
- `vegeta` –¥–ª—è HTTP load testing
- `k6` –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- –ú–µ—Ç—Ä–∏–∫–∏: RPS, latency, error rate

### üîÑ Prometheus + Grafana
–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:
- Middleware –¥–ª—è –º–µ—Ç—Ä–∏–∫ (—Å—á–µ—Ç—á–∏–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤, latency)
- Health endpoint –≥–æ—Ç–æ–≤
- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å `/metrics` endpoint

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### SLI —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **RPS**: 5 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É
- **Latency**: < 300 –º—Å (99 –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å)
- **Availability**: 99.9%

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
1. **Connection pooling**: pgx pool —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
2. **–ò–Ω–¥–µ–∫—Å—ã –ë–î**: –Ω–∞ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø–æ–ª—è—Ö
3. **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ —Ç–∞–π–º–∞—É—Ç—ã**: –Ω–∞ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö —Å –ë–î
4. **Graceful shutdown**: –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π `request_id`
- –õ–æ–≥–∏—Ä—É—é—Ç—Å—è –≤—Å–µ –æ—à–∏–±–∫–∏ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
- –ú–µ—Ç—Ä–∏–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤

### –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ Prometheus
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å:
```go
// –ú–µ—Ç—Ä–∏–∫–∏
var (
    requestsTotal = prometheus.NewCounterVec(...)
    requestDuration = prometheus.NewHistogramVec(...)
    activeConnections = prometheus.NewGauge(...)
)
```

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Go 1.23+
- Docker & Docker Compose
- Make
- golangci-lint (–¥–ª—è –ª–∏–Ω—Ç–∏–Ω–≥–∞)
- oapi-codegen (–¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞)

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞
–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–µ—Å–ª–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –≤ –±—É–¥—É—â–µ–º):
```bash
make generate
```

### –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
```bash
make fmt
```

### –ó–∞–ø—É—Å–∫ –ª–∏–Ω—Ç–µ—Ä–∞
```bash
make lint
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

–¢–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ –¥–ª—è —Å—Ç–∞–∂—ë—Ä–∞ Backend (–æ—Å–µ–Ω–Ω—è—è –≤–æ–ª–Ω–∞ 2025)

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤ –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º –ø—Ä–æ–µ–∫—Ç–∞.
