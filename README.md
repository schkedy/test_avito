# üéØ PR Reviewer Assignment Service

**–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è —Ä–µ–≤—å—é–µ—Ä–æ–≤ –Ω–∞ Pull Request'—ã**

[![Go Version](https://img.shields.io/badge/Go-1.23-00ADD8?logo=go)](https://go.dev/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-16-336791?logo=postgresql)](https://www.postgresql.org/)
[![Tests](https://img.shields.io/badge/tests-103%2B%20passing-success)](./TESTING_REPORT.md)
[![Docker](https://img.shields.io/badge/docker-ready-2496ED?logo=docker)](https://www.docker.com/)

---

## üìë –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#-–æ—Å–Ω–æ–≤–Ω—ã–µ-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#Ô∏è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- [API Endpoints](#-api-endpoints)
- [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- [–ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#-–Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- [–ö–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏](#Ô∏è-–∫–æ–º–∞–Ω–¥—ã-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
- [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
- [–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö](#Ô∏è-–±–∞–∑–∞-–¥–∞–Ω–Ω—ã—Ö)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](#-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
- [–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞](#-–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞)
- [–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏](#-–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
- [–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è](#-–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–∑–∞–¥–∞–Ω–∏—è)
- [–†–µ—à–µ–Ω–∏—è –∏ –¥–æ–ø—É—â–µ–Ω–∏—è](#-—Ä–µ—à–µ–Ω–∏—è-–∏-–¥–æ–ø—É—â–µ–Ω–∏—è)

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

> **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è**: Docker –∏ Docker Compose

### –®–∞–≥ 1: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https://github.com/schkedy/test_avito.git
cd test_avito
```

### –®–∞–≥ 2: –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å –∏ –ë–î (—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –º–∏–≥—Ä–∞—Ü–∏—è–º–∏)
docker-compose up

# –ò–ª–∏ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
docker-compose up -d
```

> üí° **–ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫**: –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–∏—Å–∞

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

```bash
# Health check
curl http://localhost:8080/health
# –û—Ç–≤–µ—Ç: {"status":"ok"}

# –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
curl http://localhost:8080/stats
# –û—Ç–≤–µ—Ç: {"total_prs":0,"open_prs":0,...}
```

‚úÖ **–°–µ—Ä–≤–∏—Å –≥–æ—Ç–æ–≤!** –î–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ **http://localhost:8080**

<details>
<summary>üêõ Troubleshooting</summary>

**–ü–æ—Ä—Ç —É–∂–µ –∑–∞–Ω—è—Ç:**
```bash
# –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—Ç –≤ .env
APP_EXTERNAL_PORT=8081
docker-compose up
```

**PostgreSQL –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:**
```bash
# –û—á–∏—Å—Ç–∏—Ç—å volumes
docker-compose down -v
docker-compose up
```

**–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:**
```bash
docker-compose logs -f app
docker-compose logs -f postgres
```

</details>

## üìã –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

<table>
<tr>
<td width="50%">

### ü§ñ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ 2 —Ä–µ–≤—å—é–µ—Ä–æ–≤
- –°–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä –∏–∑ –∫–æ–º–∞–Ω–¥—ã –∞–≤—Ç–æ—Ä–∞
- –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä–∞ –∏–∑ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤
- –£—á–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

</td>
<td width="50%">

### üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- –°–æ–∑–¥–∞–Ω–∏–µ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥
- –ê–∫—Ç–∏–≤–∞—Ü–∏—è/–¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ú–∞—Å—Å–æ–≤–∞—è –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥—ã
- –ü–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–µ–≤—å—é–µ—Ä–æ–≤

</td>
</tr>
<tr>
<td>

### üîÑ –ì–∏–±–∫–æ—Å—Ç—å
- –ü–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –∫–æ–º–∞–Ω–¥—ã —Ä–µ–≤—å—é–µ—Ä–∞
- –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ–µ —Å–ª–∏—è–Ω–∏–µ PR
- –†—É—á–Ω–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–µ–≤—å—é–µ—Ä–æ–≤
- –ó–∞—â–∏—Ç–∞ –ø–æ—Å–ª–µ merge

</td>
<td>

### üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- Health check endpoint
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ PR
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
- –ú–µ—Ç—Ä–∏–∫–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

</td>
</tr>
</table>

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ **—á–∏—Å—Ç–æ–π —Å–ª–æ–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ**:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   API Layer (Gin + OpenAPI)         ‚îÇ  HTTP handlers, middleware
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ   Service Layer                      ‚îÇ  Business logic
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ   Repository Layer (sqlc)            ‚îÇ  Data access
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ   Database (PostgreSQL + pgx)       ‚îÇ  Persistence
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–°—Ç–µ–∫:**
- **Go 1.23** - —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- **Gin** - HTTP framework
- **PostgreSQL 16** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **pgx/v5** - PostgreSQL driver —Å connection pool
- **sqlc** - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –∫–æ–¥–∞ –∏–∑ SQL
- **OpenAPI** - —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è API
- **Docker Compose** - –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è

## üîß API Endpoints

<details open>
<summary><b>üè• Health & Stats</b></summary>

| Method | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|--------|----------|----------|--------|
| `GET` | `/health` | –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–∞ | ‚úÖ |
| `GET` | `/stats` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (PR, –∫–æ–º–∞–Ω–¥—ã, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏) | ‚úÖ |

</details>

<details>
<summary><b>üë• Teams</b></summary>

| Method | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|--------|----------|----------|--------|
| `POST` | `/team/add` | –°–æ–∑–¥–∞—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É —Å —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ | ‚úÖ |
| `GET` | `/team/get` | –ü–æ–ª—É—á–∏—Ç—å –∫–æ–º–∞–Ω–¥—É (`?team_name=...`) | ‚úÖ |
| `POST` | `/team/deactivate` | –ú–∞—Å—Å–æ–≤–æ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ | ‚úÖ |

**–ü—Ä–∏–º–µ—Ä:**
```bash
curl -X POST http://localhost:8080/team/add \
  -H "Content-Type: application/json" \
  -d '{
    "team_name": "backend",
    "members": [
      {"user_id": "u1", "username": "Alice", "is_active": true},
      {"user_id": "u2", "username": "Bob", "is_active": true}
    ]
  }'
```

</details>

<details>
<summary><b>üë§ Users</b></summary>

| Method | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|--------|----------|----------|--------|
| `POST` | `/users/setIsActive` | –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ | ‚úÖ |
| `GET` | `/users/getReview` | –ü–æ–ª—É—á–∏—Ç—å PR –Ω–∞ —Ä–µ–≤—å—é (`?user_id=...`) | ‚úÖ |

**–ü—Ä–∏–º–µ—Ä:**
```bash
curl -X POST http://localhost:8080/users/setIsActive \
  -H "Content-Type: application/json" \
  -d '{"user_id": "u1", "is_active": false}'
```

</details>

<details>
<summary><b>üìù Pull Requests</b></summary>

| Method | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|--------|----------|----------|--------|
| `POST` | `/pullRequest/create` | –°–æ–∑–¥–∞—Ç—å PR (–∞–≤—Ç–æ–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–µ–≤—å—é–µ—Ä–æ–≤) | ‚úÖ |
| `POST` | `/pullRequest/merge` | –°–ª–∏—Ç—å PR (–∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ) | ‚úÖ |
| `POST` | `/pullRequest/reassign` | –ü–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–∏—Ç—å —Ä–µ–≤—å—é–µ—Ä–∞ | ‚úÖ |
| `POST` | `/pullRequest/assign` | –ù–∞–∑–Ω–∞—á–∏—Ç—å —Ä–µ–≤—å—é–µ—Ä–æ–≤ –≤—Ä—É—á–Ω—É—é | ‚úÖ |

**–ü—Ä–∏–º–µ—Ä—ã:**
```bash
# –°–æ–∑–¥–∞—Ç—å PR
curl -X POST http://localhost:8080/pullRequest/create \
  -H "Content-Type: application/json" \
  -d '{
    "pull_request_id": "pr-123",
    "pull_request_name": "Add feature",
    "author_id": "u1"
  }'

# –°–ª–∏—Ç—å PR
curl -X POST http://localhost:8080/pullRequest/merge \
  -H "Content-Type: application/json" \
  -d '{"pull_request_id": "pr-123"}'
```

</details>

üìÑ **–ü–æ–ª–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è**: [`openapi/openapi.yml`](openapi/openapi.yml)

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

> **–ò—Ç–æ–≥–æ**: 103+ —Ç–µ—Å—Ç–∞, 100% —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏, ~1.2 —Å–µ–∫—É–Ω–¥—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è ‚ö°

### üìä –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

| –¢–∏–ø | –¢–µ—Å—Ç–æ–≤ | –ü–æ–¥—Ç–µ—Å—Ç–æ–≤ | –í—Ä–µ–º—è | –ü–æ–∫—Ä—ã—Ç–∏–µ |
|-----|--------|-----------|-------|----------|
| **E2E** | 10 | 35+ | ~0.07s | API endpoints, workflows |
| **Integration** | 21 | 68 | ~1.1s | Services, transactions, concurrency |
| **–í—Å–µ–≥–æ** | **31** | **103+** | **~1.2s** | **100%** —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ |

---

### üåê E2E —Ç–µ—Å—Ç—ã

<details>
<summary><b>–ó–∞–ø—É—Å–∫ E2E —Ç–µ—Å—Ç–æ–≤</b></summary>

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å
docker-compose up -d

# 2. –î–æ–∂–¥–∞—Ç—å—Å—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
curl http://localhost:8080/health

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å E2E —Ç–µ—Å—Ç—ã
make test-e2e
```

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è:**
- ‚úÖ Health check endpoint
- ‚úÖ Statistics endpoint
- ‚úÖ Team CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
- ‚úÖ User management
- ‚úÖ Pull Request lifecycle
- ‚úÖ Complete workflows

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 10 —Ç–µ—Å—Ç–æ–≤, 35+ –ø–æ–¥—Ç–µ—Å—Ç–æ–≤, –≤—Å–µ –ø—Ä–æ—Ö–æ–¥—è—Ç ‚úÖ

üìã **–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏**: [`tests/e2e/README.md`](tests/e2e/README.md)

</details>

---

### üî¨ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

<details>
<summary><b>–ó–∞–ø—É—Å–∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤</b></summary>

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å PostgreSQL
docker-compose up postgres -d

# 2. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
make migrate-up

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
make test-integration
```

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è:**
- ‚úÖ Service Layer (Team, User, PR, Stats)
- ‚úÖ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, –æ—Ç–∫–∞—Ç)
- ‚úÖ –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø (5-20 –≥–æ—Ä—É—Ç–∏–Ω)
- ‚úÖ –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏ (–ø—É—Å—Ç—ã–µ –∫–æ–º–∞–Ω–¥—ã, —Å–æ–ª–æ-–∞–≤—Ç–æ—Ä)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (not found, duplicates)
- ‚úÖ –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å (merge, deactivate)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 21 —Ç–µ—Å—Ç, 68 –ø–æ–¥—Ç–µ—Å—Ç–æ–≤, –≤—Å–µ –ø—Ä–æ—Ö–æ–¥—è—Ç ‚úÖ

üìã **–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏**: [`tests/integration/README.md`](tests/integration/README.md)

</details>

---

### ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤

```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã (E2E + Integration)
make test

# –¢–æ–ª—å–∫–æ E2E
make test-e2e

# –¢–æ–ª—å–∫–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ
make test-integration
```

üìä **–ü–æ–ª–Ω—ã–π –æ—Ç—á—ë—Ç –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏**: [`TESTING_REPORT.md`](TESTING_REPORT.md)

## ‚ö° –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

> –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç: **k6** | –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### üìà SLI —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ (—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –¢–ó)

| –ú–µ—Ç—Ä–∏–∫–∞ | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –î–æ—Å—Ç–∏–≥–Ω—É—Ç–æ | –°—Ç–∞—Ç—É—Å |
|---------|------------|------------|--------|
| **RPS** | 5 req/s | **5.2 req/s** | ‚úÖ **+4%** |
| **Latency (p99)** | < 300ms | **198ms** | ‚úÖ **-34%** |
| **Success Rate** | > 99.9% | **100%** | ‚úÖ **+0.1%** |

### üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ –Ω–∞–≥—Ä—É–∑–∫–µ

<table>
<tr>
<th>–ù–∞–≥—Ä—É–∑–∫–∞</th>
<th>RPS</th>
<th>Latency p99</th>
<th>Success</th>
<th>–°—Ç–∞—Ç—É—Å</th>
</tr>
<tr>
<td>‚úÖ <b>–ë–∞–∑–æ–≤–∞—è</b> (5 VU)</td>
<td>5.2</td>
<td>198ms</td>
<td>100%</td>
<td>üü¢ –û—Ç–ª–∏—á–Ω–æ</td>
</tr>
<tr>
<td>‚úÖ <b>–ü–∏–∫–æ–≤–∞—è</b> (20 VU)</td>
<td>18.7</td>
<td>324ms</td>
<td>99.95%</td>
<td>üü¢ –•–æ—Ä–æ—à–æ</td>
</tr>
</table>

### üí° –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã

- ‚úÖ **–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ SLI**: –í—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã —Å –∑–∞–ø–∞—Å–æ–º
- üöÄ **–ó–∞–ø–∞—Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**: –î–æ 20 RPS (4x –æ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π)
- üìä **–°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π endpoint**: `/stats` (12ms –º–µ–¥–∏–∞–Ω–∞)
- üìä **–°–∞–º—ã–π –º–µ–¥–ª–µ–Ω–Ω—ã–π endpoint**: `/pullRequest/create` (78ms –º–µ–¥–∏–∞–Ω–∞)

<details>
<summary><b>üìä –ü–æ–¥—Ä–æ–±–Ω—ã–π breakdown –ø–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º</b></summary>

| Endpoint | Requests | p50 | p95 | p99 | Success |
|----------|----------|-----|-----|-----|---------|
| `POST /team/add` | 104 | 45ms | 98ms | 142ms | 100% |
| `POST /pullRequest/create` | 104 | 78ms | 156ms | 198ms | 100% |
| `POST /pullRequest/merge` | 104 | 52ms | 112ms | 158ms | 100% |
| `POST /pullRequest/reassign` | 104 | 68ms | 145ms | 189ms | 100% |
| `GET /stats` | 104 | 12ms | 28ms | 42ms | 100% |

</details>

<details>
<summary><b>üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏</b></summary>

**–î–ª—è —Ç–µ–∫—É—â–∏—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π (5 RPS):**
- ‚úÖ –ù–∏–∫–∞–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è

**–î–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è (20+ RPS):**
- –£–≤–µ–ª–∏—á–∏—Ç—å connection pool –¥–æ 50
- –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å –Ω–∞ `users.team_name`
- –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è `/stats`

**–î–ª—è –≤—ã—Å–æ–∫–∏—Ö –Ω–∞–≥—Ä—É–∑–æ–∫ (50+ RPS):**
- Horizontal scaling (–Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤)
- Connection pooler (PgBouncer)
- Read replicas –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

</details>

üìä **–ü–æ–ª–Ω—ã–π –æ—Ç—á—ë—Ç**: [`LOADTEST.md`](LOADTEST.md)

## üõ†Ô∏è –ö–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
```bash
make build              # –°–æ–±—Ä–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
make run                # –ó–∞–ø—É—Å—Ç–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ
make test               # –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã
make lint               # –ó–∞–ø—É—Å—Ç–∏—Ç—å –ª–∏–Ω—Ç–µ—Ä
```

### Docker –∫–æ–º–∞–Ω–¥—ã
```bash
make docker-up          # –ó–∞–ø—É—Å—Ç–∏—Ç—å —á–µ—Ä–µ–∑ Docker Compose
make docker-down        # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å volumes
make docker-up-clean    # –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å —Å –Ω—É–ª—è
```

### –ú–∏–≥—Ä–∞—Ü–∏–∏
```bash
make migrate-up         # –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ (localhost:5434)
make migrate-down       # –û—Ç–∫–∞—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
```

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞
```bash
make generate           # –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –∏–∑ OpenAPI + sqlc
make sqlc               # –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ sqlc
```

üìã **–í—Å–µ –∫–æ–º–∞–Ω–¥—ã**: —Å–º. [`Makefile`](Makefile)

## üìù –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
# –ü–æ—Ä—Ç—ã
POSTGRES_EXTERNAL_PORT=5434
APP_EXTERNAL_PORT=8080

# PostgreSQL
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=pr_reviewer

# Server
SERVER_PORT=8080
LOG_LEVEL=info
```

–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∏:
1. üî¥ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è `APP_*` (–≤—ã—Å—à–∏–π)
2. üü° –§–∞–π–ª `.env` (—Å—Ä–µ–¥–Ω–∏–π)
3. üü¢ –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–Ω–∏–∑—à–∏–π)

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –°—Ö–µ–º–∞
```sql
teams (name PK)
  ‚Üì
users (id PK, team_name FK, is_active)
  ‚Üì
pull_requests (id PK, author_id FK, status, merged_at)
  ‚Üì
pr_reviewers (pull_request_id FK, reviewer_id FK)
```

**–î–∏–∞–≥—Ä–∞–º–º–∞**: [`docs/schema.pdf`](docs/schema.pdf)

### SQL-first –ø–æ–¥—Ö–æ–¥ (sqlc)
```
internal/database/
‚îú‚îÄ‚îÄ queries/        # SQL –∑–∞–ø—Ä–æ—Å—ã (—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º –∑–¥–µ—Å—å)
‚îÇ   ‚îú‚îÄ‚îÄ teams.sql
‚îÇ   ‚îú‚îÄ‚îÄ users.sql
‚îÇ   ‚îî‚îÄ‚îÄ pull_requests.sql
‚îî‚îÄ‚îÄ db/            # –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ (–Ω–µ —Ç—Ä–æ–≥–∞—Ç—å!)
    ‚îî‚îÄ‚îÄ *.sql.go
```

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è SQL:
```bash
make sqlc  # –†–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å Go –∫–æ–¥
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- üìñ [–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](README_FULL.md) - –ø–æ–¥—Ä–æ–±–Ω—ã–π README —Å–æ –≤—Å–µ–º–∏ –¥–µ—Ç–∞–ª—è–º–∏
- üß™ [E2E —Ç–µ—Å—Ç—ã](tests/e2e/README.md) - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è E2E —Ç–µ—Å—Ç–æ–≤
- üî¨ [–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã](tests/integration/README.md) - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
- üìä [–û—Ç—á—ë—Ç –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏](TESTING_REPORT.md) - –ø–æ–ª–Ω—ã–π –æ—Ç—á—ë—Ç –ø–æ —Ç–µ—Å—Ç–∞–º
- ‚ö° [–ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](LOADTEST.md) - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã k6 —Ç–µ—Å—Ç–æ–≤
- üìù [–†–µ—à–µ–Ω–∏—è –∏ –¥–æ–ø—É—â–µ–Ω–∏—è](readme.md) - –≤–æ–ø—Ä–æ—Å—ã –∏ —Ä–µ—à–µ–Ω–∏—è –ø–æ –¢–ó
- üéØ [–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ](Backend-trainee-assignment-autumn-2025.md) - –∏—Å—Ö–æ–¥–Ω–æ–µ –¢–ó
- üîå [OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è](openapi/openapi.yml) - API –∫–æ–Ω—Ç—Ä–∞–∫—Ç

## üí° –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

### –°–æ–∑–¥–∞–Ω–∏–µ PR
1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–∑–Ω–∞—á–∞—é—Ç—Å—è **–¥–æ 2** –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ä–µ–≤—å—é–µ—Ä–æ–≤
2. –†–µ–≤—å—é–µ—Ä—ã –≤—ã–±–∏—Ä–∞—é—Ç—Å—è –∏–∑ **–∫–æ–º–∞–Ω–¥—ã –∞–≤—Ç–æ—Ä–∞**
3. –ê–≤—Ç–æ—Ä **–∏—Å–∫–ª—é—á–∞–µ—Ç—Å—è** –∏–∑ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤
4. –í—ã–±–æ—Ä —Å–ª—É—á–∞–π–Ω—ã–π (Fisher-Yates shuffle)

### –ü–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ
1. –ó–∞–º–µ–Ω—è–µ—Ç—Å—è –æ–¥–∏–Ω –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ä–µ–≤—å—é–µ—Ä
2. –ù–æ–≤—ã–π –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –∏–∑ **–∫–æ–º–∞–Ω–¥—ã –∑–∞–º–µ–Ω—è–µ–º–æ–≥–æ**
3. –ò—Å–∫–ª—é—á–∞—é—Ç—Å—è: –∞–≤—Ç–æ—Ä, —Ç–µ–∫—É—â–∏–µ —Ä–µ–≤—å—é–µ—Ä—ã
4. –ü–æ—Å–ª–µ merge **–∑–∞–ø—Ä–µ—â–µ–Ω–æ**

### Merge
- **–ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–∞—è** –æ–ø–µ—Ä–∞—Ü–∏—è
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `status=MERGED`, `merged_at=now()`
- –ü–æ—Å–ª–µ merge –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–µ–≤—å—é–µ—Ä–æ–≤ –∑–∞–ø—Ä–µ—â–µ–Ω—ã

## üéØ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- ‚úÖ –°–ª–æ–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (API ‚Üí Service ‚Üí Repository ‚Üí DB)
- ‚úÖ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–ª—è –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ PR, –ø–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ)
- ‚úÖ Connection pool (pgx) –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (slog) —Å request_id
- ‚úÖ Middleware (logging, recovery, request_id)
- ‚úÖ OpenAPI-first (–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è handlers)
- ‚úÖ sqlc –¥–ª—è —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ SQL
- ‚úÖ Graceful shutdown
- ‚úÖ Health checks
- ‚úÖ Docker multi-stage builds

## ü§ù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è

> –í—Å–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è –∏–∑ –¢–ó –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é! üéâ

<table>
<tr>
<th width="5%">‚Ññ</th>
<th width="40%">–ó–∞–¥–∞–Ω–∏–µ</th>
<th width="40%">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è</th>
<th width="15%">–°—Ç–∞—Ç—É—Å</th>
</tr>
<tr>
<td><b>1</b></td>
<td>–≠–Ω–¥–ø–æ–∏–Ω—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏</td>
<td>
<code>GET /stats</code> - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ PR, –∫–æ–º–∞–Ω–¥–∞–º, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º<br>
üìÑ <a href="openapi/openapi.yml">–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è</a>
</td>
<td><b>‚úÖ</b></td>
</tr>
<tr>
<td><b>2</b></td>
<td>–ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</td>
<td>
k6 —Ç–µ—Å—Ç—ã —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –æ—Ç—á—ë—Ç–æ–º<br>
‚úÖ SLI: 5 RPS, 198ms (p99), 100% success<br>
üìä <a href="LOADTEST.md">–û—Ç—á—ë—Ç</a>
</td>
<td><b>‚úÖ</b></td>
</tr>
<tr>
<td><b>3</b></td>
<td>–ú–∞—Å—Å–æ–≤–∞—è –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥—ã</td>
<td>
<code>POST /team/deactivate</code> - –∞—Ç–æ–º–∞—Ä–Ω–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è<br>
‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: < 100ms –¥–ª—è —Å—Ä–µ–¥–Ω–∏—Ö –æ–±—ä—ë–º–æ–≤<br>
üîÑ –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è
</td>
<td><b>‚úÖ</b></td>
</tr>
<tr>
<td><b>4</b></td>
<td>–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ/E2E —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</td>
<td>
<b>E2E:</b> 10 —Ç–µ—Å—Ç–æ–≤, 35+ –ø–æ–¥—Ç–µ—Å—Ç–æ–≤<br>
<b>Integration:</b> 21 —Ç–µ—Å—Ç, 68 –ø–æ–¥—Ç–µ—Å—Ç–æ–≤<br>
<b>–ò—Ç–æ–≥–æ:</b> 103+ —Ç–µ—Å—Ç–∞, ~1.2s, 100% –ø–æ–∫—Ä—ã—Ç–∏–µ<br>
üìã <a href="TESTING_REPORT.md">–û—Ç—á—ë—Ç</a>
</td>
<td><b>‚úÖ</b></td>
</tr>
<tr>
<td><b>5</b></td>
<td>–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ª–∏–Ω—Ç–µ—Ä–∞</td>
<td>
golangci-lint —Å 20+ –ª–∏–Ω—Ç–µ—Ä–∞–º–∏<br>
üìÑ <a href=".golangci.yml">–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è</a><br>
–ü—Ä–æ–≤–µ—Ä–∫–∏: errcheck, gosimple, govet, gosec, –∏ –¥—Ä.
</td>
<td><b>‚úÖ</b></td>
</tr>
</table>

### üéØ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

–ü–æ–º–∏–º–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

- üìù **–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** (README, –æ—Ç—á—ë—Ç—ã, –ø—Ä–∏–º–µ—Ä—ã)
- üèóÔ∏è **–ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** (API ‚Üí Service ‚Üí Repository ‚Üí DB)
- üîê **OpenAPI-first** (–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞ –∏–∑ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏)
- üóÑÔ∏è **sqlc** (—Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π SQL)
- üìä **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏** (slog —Å request_id)
- üê≥ **Multi-stage Docker builds** (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä –æ–±—Ä–∞–∑–∞)
- üîÑ **Graceful shutdown** (–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ)
- ÔøΩ **–î–∏–∞–≥—Ä–∞–º–º–∞ –ë–î** ([docs/schema.pdf](docs/schema.pdf))

## ü§î –†–µ—à–µ–Ω–∏—è –∏ –¥–æ–ø—É—â–µ–Ω–∏—è

<details>
<summary><b>–í–æ–ø—Ä–æ—Å—ã, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ —Å—Ç–æ–ª–∫–Ω—É–ª—Å—è –ø—Ä–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –∏ –ø—Ä–∏–Ω—è—Ç—ã–µ —Ä–µ—à–µ–Ω–∏—è</b></summary>

### 1. –ù–µ–¥–æ—Å—Ç–∞—é—â–∏–µ HTTP —Å—Ç–∞—Ç—É—Å—ã –≤ OpenAPI
**–ü—Ä–æ–±–ª–µ–º–∞**: –í –∏—Å—Ö–æ–¥–Ω–æ–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤  
**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω—ã –∏ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã —Å—Ç–∞—Ç—É—Å—ã `400`, `415`, `500` –¥–ª—è –≤—Å–µ—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–æ–º–∞–Ω–¥
**–ü—Ä–æ–±–ª–µ–º–∞**: –í —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ `/team/add` –¥–æ–ª–∂–µ–Ω –¥–æ–±–∞–≤–ª—è—Ç—å –ò –æ–±–Ω–æ–≤–ª—è—Ç—å –∫–æ–º–∞–Ω–¥—ã  
**–†–µ—à–µ–Ω–∏–µ**: 
- –£–±—Ä–∞–Ω–∞ –æ—à–∏–±–∫–∞ "Team Exists"
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø—Ä–∏–Ω—Ü–∏–ø –∑–∞–º–µ–Ω—ã (upsert)
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è `201` –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏, `200` –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–∞—é—Ç—Å—è –≤ –Ω–æ–≤—É—é –∫–æ–º–∞–Ω–¥—É

### 3. –û–ø–µ—á–∞—Ç–∫–∞ –≤ –ø—Ä–∏–º–µ—Ä–µ reassign
**–ü—Ä–æ–±–ª–µ–º–∞**: –í example –±—ã–ª `old_reviewer_id` –≤–º–µ—Å—Ç–æ `old_user_id`  
**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ —Ç—Ä–µ–±—É–µ–º–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–æ–≥–ª–∞—Å–Ω–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏

### 4. –ü—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç—å –∫ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–µ
**–î–æ–ø—É—â–µ–Ω–∏–µ**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω —Ç–æ–ª—å–∫–æ –∫ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–µ  
**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: –°–ª–µ–¥—É–µ—Ç –∏–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è –∏ –ª–æ–≥–∏–∫–∏ –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–∞

### 5. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç `/pullRequest/assign`
**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω –¥–ª—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è —Å–ª—É—á–∞–π–Ω—ã—Ö/—É–∫–∞–∑–∞–Ω–Ω—ã—Ö —Ä–µ–≤—å—é–µ—Ä–æ–≤ –Ω–∞ PR –±–µ–∑ —Ä–µ–≤—å—é–µ—Ä–æ–≤  
**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: –†–∞—Å—à–∏—Ä—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∏ –ø–æ–∫—Ä—ã–≤–∞–µ—Ç edge cases

### 6. –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
**–†–µ—à–µ–Ω–∏–µ**: –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–ª—è `/stats`  
**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: 
- –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫ –Ω–µ –¥–æ–ª–∂–µ–Ω –≤–ª–∏—è—Ç—å –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–æ—Ä–æ–≥–∏–µ –¥–ª—è read-only –æ–ø–µ—Ä–∞—Ü–∏–π
- –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Prometheus

### 7. –í—ã–±–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
**–†–µ—à–µ–Ω–∏–µ**: –ß–∏—Å—Ç–∞—è —Å–ª–æ–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞  
**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: –£–¥–æ–±–Ω–∞ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏, —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### 8. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
**–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è**:
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã
- –°–æ–∑–¥–∞–Ω–∏–µ PR —Å –∞–≤—Ç–æ–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ–º —Ä–µ–≤—å—é–µ—Ä–æ–≤
- –ü–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–µ–≤—å—é–µ—Ä–æ–≤

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: –ì–∞—Ä–∞–Ω—Ç–∏—è –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç–∏ –∏ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö

### 9. –û—Ç–¥–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å–≤—è–∑–µ–π `pr_reviewers`
**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É –≤–º–µ—Å—Ç–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –º–∞—Å—Å–∏–≤–∞ –≤ `pull_requests`  
**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**:
- ‚úÖ **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –ë–î**: –°–ª–µ–¥–æ–≤–∞–Ω–∏–µ 3NF, —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ **–¶–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö**: FK constraints –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤**: –ü—Ä–æ—Å—Ç—ã–µ JOIN'—ã –≤–º–µ—Å—Ç–æ —Ä–∞–±–æ—Ç—ã —Å –º–∞—Å—Å–∏–≤–∞–º–∏
- ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ò–Ω–¥–µ–∫—Å—ã –Ω–∞ —Å–≤—è–∑—è—Ö, —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–∏—Å–∫–∏ –ø–æ reviewer_id
- ‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (–¥–∞—Ç–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è, —Å—Ç–∞—Ç—É—Å —Ä–µ–≤—å—é)
- ‚úÖ **–ê—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π**: –ü—Ä–æ—Å—Ç–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ —Ä–µ–≤—å—é–µ—Ä–∞
- ‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞**: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω many-to-many, –ø–æ–Ω—è—Ç–µ–Ω –ª—é–±–æ–º—É —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (–º–∞—Å—Å–∏–≤)**: –£—Å–ª–æ–∂–Ω–∏–ª–∞ –±—ã –ø–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –∏ —Ç—Ä–µ–±–æ–≤–∞–ª–∞ PostgreSQL-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### 10. –í—ã–±–æ—Ä —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
- **sqlc**: –ò–∑–±–∞–≤–ª—è–µ—Ç –æ—Ç —Ä—É—Ç–∏–Ω—ã, —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **oapi-codegen**: –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑ OpenAPI
- **Gin**: –£–¥–æ–±–Ω—ã–µ middleware (logging, recovery, panic)
- **Viper**: –ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **pgx vs lib/pq**: –í—ã–±—Ä–∞–Ω pgx (–ª—É—á—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, native types)
- **slog**: –°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –∏ —Å–∫–≤–æ–∑–Ω—ã–µ –ª–æ–≥–∏

### 11. –î–æ–ø–æ–ª–Ω–µ–Ω–∏—è –∫ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –î–æ–±–∞–≤–ª–µ–Ω –ª–æ–∫–∞–ª—å–Ω—ã–π URL —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –î–æ–±–∞–≤–ª–µ–Ω—ã —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã `/stats` –∏ `/health`
- –û–ø–∏—Å–∞–Ω–∏–µ –ë–î –≤ `docs/schema.pdf` (dbdiagram.io)

### 12. –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç**: k6 (–ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–∏—Å–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –Ω–∞ JavaScript)

### 13. –ü–æ—Ä—Ç PostgreSQL
**–ò–∑–º–µ–Ω–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –ø–æ—Ä—Ç `5434` –≤–º–µ—Å—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ `5432`  
**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: –ò–∑–±–µ–∂–∞–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞–º–∏ PostgreSQL

### 14. .env
**–ò–∑–º–µ–Ω–µ–Ω–∏–µ**: .env –∑–∞–ø—É—à–µ–Ω –Ω–∞ GIT 
**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: –£–±—Ä–∞–ª —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ docker-compose.yml, –Ω–æ —Ä–µ—à–∏–ª –∑–∞–ø—É—à–∏—Ç—å .env —á—Ç–æ–±—ã —Ä–µ–≤—å—é–µ—Ä –º–æ–≥ –ª–µ–≥–∫–æ —Å—Ä–∞–∑—É –∑–∞–ø—É—Å—Ç–∏—Ç—å
</details>

üìù **–ü–æ–¥—Ä–æ–±–Ω–µ–µ**: [`readme.md`](readme.md)

---


## üë§ –ê–≤—Ç–æ—Ä

**GitHub**: [@schkedy](https://github.com/schkedy)  
**–î–∞—Ç–∞**: –ù–æ—è–±—Ä—å 2025  
**–ó–∞–¥–∞–Ω–∏–µ**: Backend Trainee Assignment (Autumn 2025)

---

<div align="center">

### ‚≠ê –ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –ø–æ–Ω—Ä–∞–≤–∏–ª—Å—è, –ø–æ—Å—Ç–∞–≤—å—Ç–µ –∑–≤–µ–∑–¥—É!

**[‚¨Ü –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –Ω–∞—á–∞–ª—É](#-pr-reviewer-assignment-service)**

</div>
